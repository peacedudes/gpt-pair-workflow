#!/usr/bin/env bash
# fromClip — write clipboard contents to stdout (cross‑platform)
set -euo pipefail

# macOS
if command -v pbpaste >/dev/null 2>&1; then
  exec pbpaste
fi
# Wayland (Linux)
if command -v wl-paste >/dev/null 2>&1; then
  exec wl-paste
fi
# X11 (xclip)
if command -v xclip >/dev/null 2>&1; then
  exec xclip -selection clipboard -o
fi
# X11 (xsel)
if command -v xsel >/dev/null 2>&1; then
  exec xsel --clipboard --output
fi
# Windows (PowerShell)
if command -v powershell.exe >/dev/null 2>&1; then
  exec powershell.exe -NoLogo -NoProfile -Command Get-Clipboard
fi

echo "fromClip: no clipboard tool found (tried: pbpaste, wl-paste, xclip, xsel, powershell)" >&2
exit 1

