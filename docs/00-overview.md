# Overview -- Clipboard-first GPT collaboration

Purpose
- Enable reliable GPT-assisted changes in any git repo using plain text and the system clipboard.
- Keep turns short and anchored so diffs apply cleanly and progress is steady.

Who does what
- Operator: shares repo files, decides the next goal, runs simple read-only peeks, applies patches, and repeats until goal is reached.

- Assistant: requests targeted peeks, drafts unified diffs, and adapts based on results.

Why this works
- GPT can't clone/push to repos, and zip file uploads don't persist across turns; a pasted text snapshot does.
- GPT can make complex git diff patches reliably, but only by pre-peeking targets of change just before baking.
- The patch files can contain trivial hunk count errors, but they're easily auto-corrected before applying patches.
- All scripts read from or write to the clipboard, enabling a paste-without-copy workflow.
- Listing patch hunks in descending line order per file reduces mid-apply offset drift and increases apply reliability.

Cadence (at a glance)
1) Share this repo with assistant.
2) Share the local working repo with assistant.
3) Share any handoff message, and choose a goal for assistant to achieve.
4) Iterate:
   - Assistant requests targeted, read-only peeks with generous context (nl + sed).
   - Operator executes peek and copies result to Assistant.
   - Assistant returns a unified diff (patch).
   - Operator applies the patch from clipboard, and if successful, runs build or tests. Clipboard contains results ready for sharing to assistant.
5) Repeat until errors are resolved and the goal is reached.
6) Commit changes, choose a new goal, and repeat.
7) Ask assistant to create a handoff message for successor when session rot occurs.

Safety and scope
- One action per step; everything clipboard-driven.
- Peeks are read-only. Patches are explicit and reviewable.
- Use only where sharing code to LLM agents is permitted.
- **Warning**: in this workflow you paste code generated by GPT directly into a live terminal shell. Review what you'll do before hitting Return. Use with caution and at your own risk. If you don't understand anything, press Ctrl-C and ask the assistant to find a different way.

Assistant template (one paragraph)
- “Please run sharefiles in this repo and paste the snapshot. Then run sharefiles in your project repo and paste that. I’ll request a generous peek (±30–200 lines or full sections) of the exact lines I’ll edit, then return a unified diff with hunks listed in descending line order per file. I’ll keep changes scoped to the peek, avoid surprises, and iterate until green.”

Glossary (at a glance)
- Peek: read-only, numbered slice of files (nl -ba | sed -n 'START,ENDp').
- Generous peek: full section/function or ±100–200 lines to avoid re-peeks.
- Patch: unified diff; one fenced block; ends with a newline.
- Descending diffs: list hunks bottom-to-top per file to reduce offset drift.
- DI (Dependency Injection): pass providers/factories in; don’t hardcode.
- Handoff: short summary for a fresh instance with current goal and next step.
- One action per step: peek, apply, or test—never mixed.

Privacy
- Contents pasted into chat are visible to the model/platform.
- Do NOT paste private keys or code or intellectual property unless permission is obtained.

What this is not
- Not a replacement for code review or CI.
- Not tied to any language or framework or operating system.

Next
- Proceed to 01-quick-start.md for the step-by-step loop.
- See 03-scripts.md for a concise reference to the helper scripts.
